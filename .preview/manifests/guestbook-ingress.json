{
  "apiVersion": "extensions/v1beta1",
  "kind": "Ingress",
  "metadata": {
    "name": "guestbook",
    "annotations": {
          "kubernetes.io/ingress.class": "nginx",
          "kubernetes.io/tls-acme": "true"
      }
  },
  "spec": {
      "rules": [
          {
              "host": "$PREVIEWHQ_HOSTNAME",
              "http": {
                  "paths": [
                      {
                          "backend": {
                              "serviceName": "guestbook",
                              "servicePort": "http-server"
                          },
                          "path": "/"
                      }
                  ]
              }
          }
      ],
      "tls": [
          {
              "hosts": [
                  "$PREVIEWHQ_HOSTNAME"
              ],
              "secretName": "tls-secret"
          }
      ]
  }
}